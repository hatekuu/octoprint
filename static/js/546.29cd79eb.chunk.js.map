{"version":3,"file":"static/js/546.29cd79eb.chunk.js","mappings":"oKAGA,MAAMA,EAAM,IAAIC,EAAAA,GAAU,CAAEC,GAAIC,0BAsHhC,EApHcC,KACZ,MAAOA,EAAOC,IAAWC,EAAAA,EAAAA,UAAS,KAC3BC,EAAMC,IAAWF,EAAAA,EAAAA,UAAS,KAC1BG,EAAYC,IAAiBJ,EAAAA,EAAAA,UAAS,KACtCK,EAAaC,IAAkBN,EAAAA,EAAAA,UAAS,IACxCO,EAAaC,IAAkBR,EAAAA,EAAAA,UAAS,IAE/CS,EAAAA,EAAAA,YAAU,KAERC,GAAW,GACV,IACH,MAAMA,EAAYC,UAChB,MAAMC,EAASlB,EAAImB,YAAYjB,GAC/B,IAAK,IAADkB,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EACF,MAAMC,QAAenC,EAAImB,YAAYiB,UAAUC,UAAUnB,GACzDb,GAAiB,QAATe,EAAAe,EAAO,UAAE,IAAAf,GAAQ,QAARC,EAATD,EAAWkB,cAAM,IAAAjB,GAAQ,QAARC,EAAjBD,EAAmBkB,cAAM,IAAAjB,GAAU,QAAVC,EAAzBD,EAA2BkB,gBAAQ,IAAAjB,OAA1B,EAATA,EAAqCnB,QAAS,IACtDI,GAAiB,QAATgB,EAAAW,EAAO,UAAE,IAAAX,GAAQ,QAARC,EAATD,EAAWc,cAAM,IAAAb,GAAQ,QAARC,EAAjBD,EAAmBc,cAAM,IAAAb,GAAU,QAAVC,EAAzBD,EAA2Bc,gBAAQ,IAAAb,OAA1B,EAATA,EAAqCpB,OAAQ,IACrDG,GAAuB,QAATkB,EAAAO,EAAO,UAAE,IAAAP,GAAQ,QAARC,EAATD,EAAWU,cAAM,IAAAT,GAAQ,QAARC,EAAjBD,EAAmBU,cAAM,IAAAT,GAAU,QAAVC,EAAzBD,EAA2BU,gBAAQ,IAAAT,OAA1B,EAATA,EAAqCU,cAAe,IAClEC,QAAQC,IAAa,QAAVX,EAACG,EAAO,UAAE,IAAAH,GAAQ,QAARC,EAATD,EAAWM,cAAM,IAAAL,GAAQ,QAARC,EAAjBD,EAAmBM,cAAM,IAAAL,OAAhB,EAATA,EAA2BM,SACzC,CAAE,MAAOI,GACPF,QAAQC,IAAIC,EAAMC,QACpB,GAIIC,EAAaA,KACjBhC,GAAgBiC,GAAaA,EAAW,GAAE,EAGtCC,EAAiBA,KACrBlC,GAAgBiC,GAAcA,EAAW,EAAIA,EAAW,EAAI,GAAG,EAa7DE,EAAWhC,UACf,UACSjB,EAAImB,YAAYiB,UAAUc,SAASC,EAAKC,KAC9CpC,GACH,CAAE,MAAO4B,GACPF,QAAQC,IAAIC,EAAMA,MACpB,GAyDA,OACES,EAAAA,EAAAA,MAAA,OAAKC,UAAU,sBAAqBC,SAAA,EAClCC,EAAAA,EAAAA,KAAA,UAAQC,QAASA,KAAO7C,EAAe,GAAIE,EAAe,EAAE,EAAEyC,SAAC,+BAC/DC,EAAAA,EAAAA,KAAA,UAAQC,QAASA,KAAO7C,EAAe,GAAIE,EAAe,EAAE,EAAEyC,SAAC,wBAC/DC,EAAAA,EAAAA,KAAA,UAAQC,QAASA,KAAO7C,EAAe,GAAIE,EAAe,EAAE,EAAEyC,SAAC,iBA3DzCG,MACxB,MAAMC,EAlBc,IAAhBhD,EACKP,EAAMwD,MAZI,EAYE/C,EAZF,GAY+BA,EAAc,IACrC,IAAhBF,EACFJ,EAAKqD,MAdK,EAcC/C,EAdD,GAc8BA,EAAc,IACpC,IAAhBF,EACFF,EAAWmD,MAhBD,EAgBO/C,EAhBP,GAgBoCA,EAAc,IAE9D,GAYP,OACEwC,EAAAA,EAAAA,MAAA,OAAKC,UAAU,SAAQC,SAAA,EACrBC,EAAAA,EAAAA,KAAA,MAAAD,SAAqB,IAAhB5C,EAAoB,wBAA6B,IAAhBA,EAAoB,uCAAyB,2BACnF6C,EAAAA,EAAAA,KAAA,OAAKF,UAAU,YAAWC,SACvBI,EAAYE,KAAI,CAACV,EAAMW,KACtBT,EAAAA,EAAAA,MAAA,OAAKC,UAAU,OAAMC,SAAA,CACF,IAAhB5C,IACC0C,EAAAA,EAAAA,MAAAU,EAAAA,SAAA,CAAAR,SAAA,EACEF,EAAAA,EAAAA,MAAA,KAAAE,SAAA,CAAG,uBAAWJ,EAAKa,aACnBX,EAAAA,EAAAA,MAAA,KAAAE,SAAA,CAAG,wBAAYJ,EAAKc,aACpBZ,EAAAA,EAAAA,MAAA,KAAAE,SAAA,CAAG,+BAAgBJ,EAAKe,mBACxBb,EAAAA,EAAAA,MAAA,KAAAE,SAAA,CAAG,4BAAWJ,EAAKgB,aACnBd,EAAAA,EAAAA,MAAA,KAAAE,SAAA,CAAG,uBAAaJ,EAAKiB,UACN,6BAAdjB,EAAKiB,SACNZ,EAAAA,EAAAA,KAAA,UAAQC,QAASA,IAAIR,EAASE,GAAMI,SAAC,wBAGxB,IAAhB5C,IACC0C,EAAAA,EAAAA,MAAAU,EAAAA,SAAA,CAAAR,SAAA,EACEF,EAAAA,EAAAA,MAAA,KAAAE,SAAA,CAAG,gBAAWJ,EAAKkB,aACnBhB,EAAAA,EAAAA,MAAA,KAAAE,SAAA,CAAG,4BAAaJ,EAAKmB,SAAS,UAE9BjB,EAAAA,EAAAA,MAAA,KAAAE,SAAA,CAAG,uBAAaJ,EAAKiB,WACrBf,EAAAA,EAAAA,MAAA,KAAAE,SAAA,CAAG,0CAAoB,IAAIgB,KAAKpB,EAAKqB,WAAWC,qBAChDpB,EAAAA,EAAAA,MAAA,KAAAE,SAAA,CAAG,qCAAsB,IAAIgB,KAAKpB,EAAKuB,SAASD,oBACjC,6BAAdtB,EAAKiB,SACNZ,EAAAA,EAAAA,KAAA,UAAQC,QAASA,IAAIR,EAASE,GAAMI,SAAC,wBAGxB,IAAhB5C,IACC0C,EAAAA,EAAAA,MAAAU,EAAAA,SAAA,CAAAR,SAAA,EACEF,EAAAA,EAAAA,MAAA,KAAAE,SAAA,CAAG,uBAAaJ,EAAKiB,WACrBf,EAAAA,EAAAA,MAAA,KAAAE,SAAA,CAAG,+CAAyBJ,EAAKwB,SAAS,cACzCxB,EAAKyB,qBACJvB,EAAAA,EAAAA,MAAA,KAAAE,SAAA,CAAG,6DAA6B,IAAIgB,KAAKpB,EAAKyB,oBAAoBH,qBAEpEpB,EAAAA,EAAAA,MAAA,KAAAE,SAAA,CAAG,uDAA8B,IAAIgB,KAAKpB,EAAK0B,kBAAkBJ,yBA/B5CX,QAsC/BN,EAAAA,EAAAA,KAAA,UAAQC,QAAST,EAAgB8B,SAA0B,IAAhBjE,EAAkB0C,SAAC,YAG9DC,EAAAA,EAAAA,KAAA,UAAQC,QAASX,EAAYgC,SA5Ed,GA4EyBjE,EAAc,KAAsC,IAAhBF,EAAoBP,EAAM2E,OAAyB,IAAhBpE,EAAoBJ,EAAKwE,OAAStE,EAAWsE,QAAQxB,SAAC,aAGjK,EASLG,KACG,ECjHJ1D,EAAM,IAAIC,EAAAA,GAAU,CAAEC,GAAIC,0BAmChC,EAlCgB6E,KAChB,MAAOC,EAAOC,IAAW5E,EAAAA,EAAAA,UAAS,CAAC,IACjCS,EAAAA,EAAAA,YAAU,KACJC,GAAW,GACf,IACF,MAAMA,EAAWC,UACf,IACE,MAAMkB,QAAenC,EAAImB,YAAYiB,UAAU+C,aAChDD,EAAU/C,GACVO,QAAQC,IAAIR,EACb,CAAE,MAAOS,GACNF,QAAQC,IAAIC,EAAMA,MACrB,GAWF,OACES,EAAAA,EAAAA,MAAA,OAAKC,UAAU,iBAAgBC,SAAA,EAC3BC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,iBACNF,EAAAA,EAAAA,MAAA,KAAAE,SAAA,CAAG,sBAAY0B,EAAOG,SACZ,aAAfH,EAAOG,QACI5B,EAAAA,EAAAA,KAAA,UAAQC,QAASA,KAbfxC,WAEN,UACUjB,EAAImB,YAAYiB,UAAUiD,UACpC,CAAE,MAAOzC,GACLF,QAAQC,IAAIC,EAAMA,MACtB,GAO0B0C,EAAO,EAAE/B,SAAC,iCAElC,ECrBV,EAVagC,KAETlC,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EAEEC,EAAAA,EAAAA,KAACgC,EAAI,KACLhC,EAAAA,EAAAA,KAACwB,EAAO,M","sources":["components/admin/Bills/Bills.js","components/admin/Printer/Printer.js","components/admin/home.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport * as Realm from 'realm-web';\r\nimport \"./fileManager.css\"\r\nconst app = new Realm.App({ id: process.env.REACT_APP_KEY });\r\n\r\nconst Bills = () => {\r\n  const [Bills, setBill] = useState([]);\r\n  const [done, setDone] = useState([]);\r\n  const [inProgress, setInProgress] = useState([]);\r\n  const [currentView, setCurrentView] = useState(0); // 0 for Bills, 1 for Done, 2 for In Progress\r\n  const [currentPage, setCurrentPage] = useState(0); // For pagination\r\n\r\n  useEffect(() => {\r\n  \r\n    fetchData();\r\n  }, []);\r\n  const fetchData = async () => {\r\n    const userId = app.currentUser.id;\r\n    try {\r\n      const result = await app.currentUser.functions.Adminview(userId);\r\n      setBill(result[0]?.public?.output?.jsonData?.Bills || []);\r\n      setDone(result[0]?.public?.output?.jsonData?.done || []);\r\n      setInProgress(result[0]?.public?.output?.jsonData?.in_progress || []);\r\n      console.log(result[0]?.public?.output?.jsonData);\r\n    } catch (error) {\r\n      console.log(error.message);\r\n    }\r\n  };\r\n  const itemsPerPage = 2;\r\n\r\n  const handleNext = () => {\r\n    setCurrentPage((prevPage) => prevPage + 1);\r\n  };\r\n\r\n  const handlePrevious = () => {\r\n    setCurrentPage((prevPage) => (prevPage > 0 ? prevPage - 1 : 0));\r\n  };\r\n\r\n  const getCurrentData = () => {\r\n    if (currentView === 0) {\r\n      return Bills.slice(currentPage * itemsPerPage, (currentPage + 1) * itemsPerPage);\r\n    } else if (currentView === 1) {\r\n      return done.slice(currentPage * itemsPerPage, (currentPage + 1) * itemsPerPage);\r\n    } else if (currentView === 2) {\r\n      return inProgress.slice(currentPage * itemsPerPage, (currentPage + 1) * itemsPerPage);\r\n    }\r\n    return [];\r\n  };\r\nconst Recieved = async(item)=>{\r\n  try {\r\n     await app.currentUser.functions.Shipping(item._id);\r\n     fetchData()\r\n  } catch (error) {\r\n    console.log(error.error)\r\n  }\r\n}\r\n  const renderCurrentView = () => {\r\n    const currentData = getCurrentData();\r\n    return (\r\n      <div className=\"column\">\r\n        <h2>{currentView === 0 ? 'Đơn hàng' : currentView === 1 ? 'Sản phẩm hoàng thành' : 'Trong quá trình'}</h2>\r\n        <div className=\"item-list\">\r\n          {currentData.map((item, index) => (\r\n            <div className=\"item\" key={index}>\r\n              {currentView === 0 && (\r\n                <>\r\n                  <p>Loại thẻ: {item.cardType}</p>\r\n                  <p>Chất liệu: {item.material}</p>\r\n                  <p>Công nghệ thẻ: {item.cardTechnology}</p>\r\n                  <p>Số lượng: {item.quantity}</p>\r\n                  <p>Trạng thái: {item.status}</p>\r\n                  {item.status===\"Đang gói hàng\" && (\r\n                  <button onClick={()=>Recieved(item)}>Gửi hàng</button>)}\r\n                </>\r\n              )}\r\n              {currentView === 1 && (\r\n                <>\r\n                  <p>Tên File: {item.fileName}</p>\r\n                  <p>Kích thước: {item.fileSize} MB</p>\r\n\r\n                  <p>Trạng thái: {item.status}</p>\r\n                  <p>Thời gian bắt đầu: {new Date(item.StartTime).toLocaleString()}</p>\r\n                  <p>Thời giang kết thúc: {new Date(item.EndTime).toLocaleString()}</p>\r\n                  {item.status===\"Đang gói hàng\" && (\r\n                  <button onClick={()=>Recieved(item)}>Gửi hàng</button>)}\r\n                </>\r\n              )}\r\n              {currentView === 2 && (\r\n                <>\r\n                  <p>Trạng thái: {item.status}</p>\r\n                  <p>Tổng thời gian dự kiến: {item.duration} giây</p>\r\n                  {item.estimatedStartTime && (\r\n                    <p>Thời giang bắt đầu dự kiến: {new Date(item.estimatedStartTime).toLocaleString()}</p>\r\n                  )}\r\n                  <p>Thời giang kết thúc dự kiến: {new Date(item.estimatedEndTime).toLocaleString()}</p>\r\n            \r\n                </>\r\n              )}\r\n            </div>\r\n          ))}\r\n        </div>\r\n        <button onClick={handlePrevious} disabled={currentPage === 0}>\r\n          ◀\r\n        </button>\r\n        <button onClick={handleNext} disabled={(currentPage + 1) * itemsPerPage >= (currentView === 0 ? Bills.length : currentView === 1 ? done.length : inProgress.length)}>\r\n          ▶\r\n        </button>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"view-printing-files\">\r\n      <button onClick={() => {setCurrentView(0); setCurrentPage(0)}}>Xem đơn hàng</button>\r\n      <button onClick={() => {setCurrentView(1); setCurrentPage(0)}}>Đã in xong</button>\r\n      <button onClick={() => {setCurrentView(2); setCurrentPage(0)}}>Đang in</button>\r\n      {renderCurrentView()}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Bills;\r\n","import React,{useEffect,useState} from 'react';\r\n\r\nimport * as Realm from 'realm-web';\r\n\r\nconst app = new Realm.App({ id: process.env.REACT_APP_KEY });\r\nconst Printer = () => {\r\nconst [config,setConfig]=useState({})\r\n  useEffect(()=>{\r\n        fetchData()\r\n  },[])\r\n  const fetchData =async()=>{\r\n    try {\r\n      const result = await app.currentUser.functions.FindConfig();\r\n     setConfig(result)\r\n     console.log(result)\r\n    } catch (error) {\r\n       console.log(error.error)\r\n    }\r\n  }\r\n  \r\n  const Print=async()=>{\r\n    \r\n        try {\r\n            await app.currentUser.functions.Printing();\r\n        } catch (error) {\r\n            console.log(error.error)\r\n        }\r\n  }\r\n  return (\r\n    <div className=\"select-printer\">\r\n        <h2>Máy in3d</h2>\r\n      <p>Trạng thái:{config.state}</p>\r\n{config.state!==\"starting\"&&(\r\n            <button onClick={()=>{Print()}}> Bắt đầu in</button>\r\n)}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Printer;\r\n","import React from 'react';\r\nimport Bill from './Bills/Bills';\r\nimport Printer from './Printer/Printer';\r\n\r\nconst Home = () => {\r\n  return (\r\n    <div>\r\n  \r\n      <Bill />\r\n      <Printer />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n"],"names":["app","Realm","id","process","Bills","setBill","useState","done","setDone","inProgress","setInProgress","currentView","setCurrentView","currentPage","setCurrentPage","useEffect","fetchData","async","userId","currentUser","_result$","_result$$public","_result$$public$outpu","_result$$public$outpu2","_result$2","_result$2$public","_result$2$public$outp","_result$2$public$outp2","_result$3","_result$3$public","_result$3$public$outp","_result$3$public$outp2","_result$4","_result$4$public","_result$4$public$outp","result","functions","Adminview","public","output","jsonData","in_progress","console","log","error","message","handleNext","prevPage","handlePrevious","Recieved","Shipping","item","_id","_jsxs","className","children","_jsx","onClick","renderCurrentView","currentData","slice","map","index","_Fragment","cardType","material","cardTechnology","quantity","status","fileName","fileSize","Date","StartTime","toLocaleString","EndTime","duration","estimatedStartTime","estimatedEndTime","disabled","length","Printer","config","setConfig","FindConfig","state","Printing","Print","Home","Bill"],"sourceRoot":""}