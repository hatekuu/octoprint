{"version":3,"file":"static/js/217.3a0e74af.chunk.js","mappings":"oKAIA,MAAMA,EAAM,IAAIC,EAAAA,GAAU,CAAEC,GAAIC,0BAwChC,EAtCwBC,KACtB,MAAOC,EAASC,IAAcC,EAAAA,EAAAA,UAAS,IA4BvC,OAzBAC,EAAAA,EAAAA,YAAU,KACaC,WACnB,MAAMC,EAAS,IAAIC,gBAAgBC,OAAOC,SAASC,QAC7CC,EAAQL,EAAOM,IAAI,SACnBC,EAAUP,EAAOM,IAAI,WAE3B,GAAKD,GAAUE,EAKf,UACQjB,EAAIkB,kBAAkBC,YAAY,CAAEJ,QAAOE,YACjDX,EAAW,iCACXc,YAAW,KACTR,OAAOC,SAASQ,KAAK,mBAAmB,GACvC,IACL,CAAE,MAAOC,GACPhB,EAAW,+CACb,MAZEA,EAAW,4BAYb,EAGFiB,EAAc,GACd,KAGAC,EAAAA,EAAAA,KAAA,OAAKC,UAAU,yBAAwBC,UACvCF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,uBAAsBC,UACnCF,EAAAA,EAAAA,KAAA,MAAAE,SAAKrB,OAEH,C","sources":["components/register/ConfirmRegister.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport * as Realm from 'realm-web';\r\nimport './confirm.css'\r\n\r\nconst app = new Realm.App({ id: process.env.REACT_APP_KEY });\r\n\r\nconst ConfirmRegister = () => {\r\n  const [message, setMessage] = useState('');\r\n\r\n\r\n  useEffect(() => {\r\n    const confirmEmail = async () => {\r\n      const params = new URLSearchParams(window.location.search);\r\n      const token = params.get('token');\r\n      const tokenId = params.get('tokenId');\r\n\r\n      if (!token || !tokenId) {\r\n        setMessage('Invalid confirmation link');\r\n        return;\r\n      }\r\n\r\n      try {\r\n        await app.emailPasswordAuth.confirmUser({ token, tokenId });\r\n        setMessage('Email confirmed successfully!');\r\n        setTimeout(() => {\r\n          window.location.href('/octoprint/login');\r\n        }, 3000); // Redirect to login after 3 seconds\r\n      } catch (error) {\r\n        setMessage('Email confirmation failed. Please try again.');\r\n      }\r\n    };\r\n\r\n    confirmEmail();\r\n  },[]);\r\n\r\n  return (\r\n    <div className=\"confirmation-container\">\r\n    <div className=\"confirmation-message\">\r\n      <h1>{message}</h1>\r\n    </div>\r\n  </div>\r\n  );\r\n};\r\n\r\nexport default ConfirmRegister;\r\n"],"names":["app","Realm","id","process","ConfirmRegister","message","setMessage","useState","useEffect","async","params","URLSearchParams","window","location","search","token","get","tokenId","emailPasswordAuth","confirmUser","setTimeout","href","error","confirmEmail","_jsx","className","children"],"sourceRoot":""}