{"version":3,"file":"static/js/598.48321c9c.chunk.js","mappings":"oKAIA,MAAMA,EAAM,IAAIC,EAAAA,GAAU,CAAEC,GAAIC,0BAoDhC,EAlDwBC,KACtB,MAAOC,EAASC,IAAcC,EAAAA,EAAAA,UAAS,KAChCC,EAAYC,IAAiBF,EAAAA,EAAAA,UAAS,IA+B7C,OACEG,EAAAA,EAAAA,MAAA,OAAKC,UAAU,2BAA0BC,SAAA,EACvCC,EAAAA,EAAAA,KAAA,SACEC,KAAK,WACLC,YAAY,qBACZC,MAAOR,EACPS,SAnCqBC,IACzBT,EAAcS,EAAMC,OAAOH,MAAM,EAmC7BL,UAAU,kBAEZE,EAAAA,EAAAA,KAAA,UAAQO,QAlCSC,UACnB,MAAMC,EAAS,IAAIC,gBAAgBC,OAAOC,SAASC,QAC7CC,EAAQL,EAAOM,IAAI,SACnBC,EAAUP,EAAOM,IAAI,WAE3B,GAAKD,GAAUE,EAKf,UACQ7B,EAAI8B,kBAAkBC,cAAc,CACxCC,SAAUxB,EACVmB,QACAE,YAEFvB,EAAW,gCACX2B,YAAW,KACTT,OAAOC,SAASS,KAAO,kBAAkB,GACxC,IACL,CAAE,MAAOC,GACP7B,EAAW,2CACb,MAhBEA,EAAW,4BAgBb,EAYiCK,UAAU,eAAcC,SAAC,YAGvDP,IAAWQ,EAAAA,EAAAA,KAAA,OAAKF,UAAU,uBAAsBC,SAAEP,MAC/C,C","sources":["components/login/ConfirmPassword.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport * as Realm from 'realm-web';\r\nimport './confirm.css';\r\n\r\nconst app = new Realm.App({ id: process.env.REACT_APP_KEY });\r\n\r\nconst ConfirmPassword = () => {\r\n  const [message, setMessage] = useState('');\r\n  const [inputValue, setInputValue] = useState('');\r\n  \r\n  const handleInputChange = (event) => {\r\n    setInputValue(event.target.value);\r\n  };\r\n\r\n  const confirmEmail = async () => {\r\n    const params = new URLSearchParams(window.location.search);\r\n    const token = params.get('token');\r\n    const tokenId = params.get('tokenId');\r\n\r\n    if (!token || !tokenId) {\r\n      setMessage('Invalid confirmation link');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      await app.emailPasswordAuth.resetPassword({\r\n        password: inputValue,\r\n        token,\r\n        tokenId,\r\n      });\r\n      setMessage('Password reset successfully!');\r\n      setTimeout(() => {\r\n        window.location.href = '/octoprint/login';\r\n      }, 3000); // Redirect to login after 3 seconds\r\n    } catch (error) {\r\n      setMessage('Password reset failed. Please try again.');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"reset-password-container\">\r\n      <input\r\n        type=\"password\"\r\n        placeholder=\"Enter new password\"\r\n        value={inputValue}\r\n        onChange={handleInputChange}\r\n        className=\"form-control\"\r\n      />\r\n      <button onClick={confirmEmail} className=\"btn btn-info\">\r\n        Confirm\r\n      </button>\r\n      {message && <div className=\"confirmation-message\">{message}</div>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ConfirmPassword;\r\n"],"names":["app","Realm","id","process","ConfirmPassword","message","setMessage","useState","inputValue","setInputValue","_jsxs","className","children","_jsx","type","placeholder","value","onChange","event","target","onClick","async","params","URLSearchParams","window","location","search","token","get","tokenId","emailPasswordAuth","resetPassword","password","setTimeout","href","error"],"sourceRoot":""}